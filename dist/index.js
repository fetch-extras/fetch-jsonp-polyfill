!function(){"use strict";var isBrowser=new Function("try {return this===window}catch(e){ return false}");if(isBrowser()&&window.fetch){fetchPolyfill(),Response.prototype={text:function(){return this.bodyUsed=!0,Promise.resolve(this._bodyText)},json:function(){return this.bodyUsed=!0,Promise.resolve(toJson(this._bodyText))},clone:function(){return new Response(this._bodyText,url)}};var index=0}function fetchPolyfill(){var n=window.fetch;window.fetch=function(e,t){return"jsonp"==getValFromOpt(t,"method","").toLowerCase()?jsonp(e,t):n.apply(window,arguments)}}function jsonp(d,f){return d?new Promise(function(t,n){var e=generateId(),o=getValFromOpt(f,"callback",8e3)<<0,r=getValFromOpt(f,"callback")||getValFromOpt(f,"cb")||"callback",i=getValFromOpt(f,"callbackName",e),s=setTimeout(function(){l(", it is timeout")},o),c="object"==typeof d?d.url:d+"";c+=(0<c.indexOf("?")?"&":"?").replace("?&","?"),c+=r+"="+i;var a=document.getElementsByTagName("head")[0]||document.head,u=document.createElement("script");function l(e){try{deleteFromWin(i),u.parentNode.removeChild(u),clearTimeout(s)}catch(e){}e=e||"",n(new Error("JSONP request to "+c+e))}u.src=c,u.onerror=l,a.appendChild(u),window[i]=function(e){t(new Response(e,c)),l()}}):(new Error("1 argument required, but only 0 present"),null)}function Response(e,t){this.ok=!0,this.status=200,this.type="default",this.url=t||"",this.statusText="OK",this.bodyUsed=!1,this._bodyText=e}function generateId(){return"jsonpcallback_"+~~(Math.random()*Math.pow(10,7))+"_"+ ++index}function deleteFromWin(t){try{delete window[t]}catch(e){window[t]=void 0}}function getValFromOpt(e,t,n){return n=void 0!==n?n:null,e&&"object"==typeof e&&void 0!==e[t]?e[t]:n}function toJson(res){if("string"!=typeof ref)return res;try{return JSON.parse(res)}catch(e){return eval("("+res+")")}finally{return res}}}();