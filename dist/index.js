!function(){"use strict";var isBrowser=new Function("try {return this===window}catch(e){ return false}");if(isBrowser()&&window.fetch){fetchPolyfill(),Response.prototype={text:function(){return this.bodyUsed=!0,Promise.resolve(this._bodyText)},json:function(){return this.bodyUsed=!0,Promise.resolve(toJson(this._bodyText))},clone:function(){return new Response(this._bodyText,url)}};var index=0}function fetchPolyfill(){var o=window.fetch;window.fetch=function(e,t){return"jsonp"==getValFromOpt(t,"method","").toLowerCase()?jsonp(e,t):o.apply(window,arguments)}}function jsonp(d,f){return d?new Promise(function(t,o){var e=generateId(),n=getValFromOpt(f,"timeout",8e3),r=getValFromOpt(f,"callback")||getValFromOpt(f,"cb")||"callback",i=getValFromOpt(f,"callbackName",e),s=setTimeout(function(){l(". It is timeout!")},n),c="object"==typeof d?d.url:d+"";c+=(0<c.indexOf("?")?"&":"?").replace("?&","?"),c+=r+"="+i;var u=document.getElementsByTagName("head")[0]||document.head,a=document.createElement("script");function l(e){try{deleteFromWin(i),a.parentNode.removeChild(a),clearTimeout(s)}catch(e){}"ok"!=e&&(e=e||"",o(new Error("Fetch jsonp request to "+c+" failed!"+e)))}a.src=c,a.onerror=function(){l(". It is url loaded Error!")},u.appendChild(a),window[i]=function(e){t(new Response(e,c)),l("ok")}}):(new Error("1 argument required, but only 0 present"),null)}function Response(e,t){this.ok=!0,this.status=200,this.type="default",this.url=t||"",this.statusText="OK",this.bodyUsed=!1,this._bodyText=e}function generateId(){return"jsonpcallback_"+~~(Math.random()*Math.pow(10,7))+"_"+ ++index}function deleteFromWin(t){try{delete window[t]}catch(e){window[t]=void 0}}function getValFromOpt(e,t,o){return o=void 0!==o?o:null,e&&"object"==typeof e&&void 0!==e[t]?e[t]:o}function toJson(res){if("string"!=typeof ref)return res;try{return JSON.parse(res)}catch(e){return eval("("+res+")")}finally{return res}}}();